\documentclass{amsart}

\input{decls}
\input{macros}
\setcounter{tocdepth}{1}

\title{Semantics of Higher Inductive Types}

\author{Peter LeFanu Lumsdaine}
\author{Michael Shulman}

\begin{document}

\maketitle

\begin{abstract}
The now-standard homotopy-theoretic models of Voevodsky, Awodey--Warren, et al, show that dependent type theory is expressive enough to talk about homotopy-theoretic properties and constructions.
%
However, traditional type theory provides no way to \emph{construct} homotopically non-trivial types.

Higher Inductive Types (HITs) were introduced to remedy this gap (in conjunction with the Univalence Axiom).
%
They generalise ordinary inductive definitions, allowing constructors to produce not only points but \emph{paths} in the posited type.

Here we show that many homotopy-theoretic models of dependent type theory also model HITs, using a generalisation of the initial-algebra semantics of ordinary inductive types.
%
Precisely, we show that \todo{\ldots} .
\end{abstract}


\tableofcontents

\section{Introduction}

\todo{General setting: state of the field, motivation for introducing HITs.}

\todo{Sketch a few examples of HITs}

\todo{Survey work done with HITs in \cite{hott:book}}

\todo{Outline of this paper}

\section{Syntax of HITs}

\todo{Pipe dream: general CIC-like presentation}

\todo{Some simple specific examples: circle, suspension, torus, $(-1)$-truncation \ldots}

\todo{Possible variations, esp.\ judgementality of computation rules}

\todo{Define higher $W$-types, and conjecture their general expressivity}

\section{Semantics of HoTT}

\todo{Recall: comprehension categories, weakly stable structure, \ldots}

\todo{Give specific statement: “Good model categories model HoTT.”}

\todo{While here, define/discuss any extra conditions on model categories we’ll need.}

\todo{Recall: initial-algebra semantics of ITs.}

\section{Semantics of simple HITs}

\subsection{Circle}

As we did for inductive types above, to model the circle we first set up a (fibered) category of “algebras”, with a notion of “fibration”, and observe that a stably trivially cofibrant object in this category will model the rules for the circle.
%
In the case of the circle, it is then easy to construct such an object by hand.

\begin{definition}
A \emph{fibrant circle algebra} over $\Gamma \in \E$ is a fibration $X \fibto \Gamma$ equipped with a section $b : \Gamma \to X$, and a map $l : \Gamma \to \paths[\Gamma]{X}$ over $(b,b) : \Gamma \to X \times_\Gamma X$.
%
If $(X,b,l)$ is a fibrant circle algebra over $\Gamma$, then any $f : \Gamma' \to \Gamma$ induces a pullback fibrant circle algebra $f^*(X,b,l) := (f^*X,f^*b,f^*l)$ over $\Gamma'$.
\end{definition}

The formation and introduction rules say exactly that the circle $\circtype$ is a fibrant circle algebra over $1$.

\begin{definition}
A \emph{dependent circle algebra} over a fibrant circle algebra $(X,b,l)$ over $\Gamma$ consists of a fibration $Y \fibto X$, equipped with a map $bbar : \Gamma \to Y$ over $b$, and a map $lbar : \Gamma \to \pathsover[\Gamma]{X}{Y}$ over $(bbar,l,bbar) : \Gamma \to Y \times_X \paths[\Gamma]{X} \times_X Y$. 
\end{definition}

The premises of the elimination and computation rules, in context $\Gamma$, posit precisely a dependent circle algebra over the pullback of $\circtype$ along $\Gamma \to 1$.

\begin{definition}
A \emph{(strict) section} of a dependent circle algebra $(Y,\bbar,\lbar)$ over $(X,b,l)$, $\Gamma$ is a section $s$ of the fibration $Y \fibto X$, such that $s(b) = \bbar$, $\paths[\Gamma](s)(l) = \lbar$.

If $Y = (Y,\bbar,\lbar)$ is a dependent circle algebra over $X = (X,b,l)$, in context $\Gamma$, then pulling back along $f : \Gamma' \to \Gamma$ induces a dependent circle algebra $f^*Y$ over $f^*X$.
\end{definition}

The eliminator, together with the (judgemental) computation rules, provide a section for every dependent circle algebra over any pullback of  $\circtype$, along with stability conditions, which we disregard for now but will return to in Lemma~\ref{lemma:circle-coherence} below.
%
Based on this, we define:
\begin{definition}
A fibrant circle algebra is \emph{trivially cofibrant} if every dependent circle algebra over it has a section, and \emph{stably trivially cofibrant} if every pullback of it is trivially cofibrant.
\end{definition}

So far, we have set up these definitions following the syntactic presentation as closely as possible, and not relying on any features particular to the model-categorical setting.
%
However, in this setting---in particular, with strict functoriality of $\paths{-}$---these fit into a rather cleaner big picture:

\begin{definition}
There is an $\E$-indexed category $\Alg[\E]{\circtype}$, with an $\E$-indexed forgetful functor $U : \Alg[\E]{\circtype} \to \Eself$.

Objects of $\Alg[\E]{\circtype}$ consist of triples $(p:X \to \Gamma,b,l)$, as before, but with $p$ not assumed to be a fibration.
%
Maps of $(X',b',l') \to (X,b,l)$ in $\Alg[\E](\Gamma)$ consist of maps $f : X' \to X$ over $\Gamma$, with $f(b') = b$, $\paths[\Gamma](f)(l') = l$.

The functor $U$ sends a circle algebra $(X,b,l)$ over $\Gamma$ to its underlying map $p:X \to \Gamma$.

Moreover, $U$ induces an indexed subcategory of \emph{fibrations} in $\Alg[\E]{\circtype}$. 
\end{definition}

With this setting, a fibrant circle algebra over $\Gamma$, as originally defined, is exactly a fibrant object of $\Alg[\E]{\circtype}(\Gamma)$; a dependent circle algebra over $(X,b,l)$ is just a fibration over $(X,b,l)$ in $\Alg[\E]{\circtype}$; and a section of one is exactly a section in the usual sense.

\todo{Construct stable initial algebra as pushout; then, stably triv cof alg as fibrant replacement.}

\todo{State local universes lemma: “weakly stable triv cof alg in $\E$ gives strictly stable circle type in $\E_!$”.}

\subsection{Suspension}

\todo{Same pattern as for circle, but including fibrant replacement, and now only weakly stable}

\todo{Other simple examples?}

\subsection{Propositional truncation}
\todo{$(–1)$-truncation: set up the (now less trivial) category of algebras by hand. Note again that an initial one will model the types.}

\todo{Recall \emph{dialgebras}; recognise the algebras above as (iterated) dialgebras.}

\todo{Recall/give initial dialgebra theorems.  Conclude: we have models of the types.}

\section{Semantics of higher $W$-types}

\todo{Set up endofunctors for iterated dialgebra construction.}

\todo{Note that initial dialgebras model higher $W$-types}

\todo{Note that we have initial dialgebras}

\section{Generalisations}

\todo{Higher path constructors, higher recursive calls, weakly natural sources and targets, induction-induction, induction-recursion, etc.}

\todo{How some of these (and simpler examples) can be reduced to higher W-types?}

\todo{Perhaps give or sketch semantics of some higher I–R type?}

\end{document}
